CREATE TABLE PRODOTTI (
  CodP VARCHAR(10) NOT NULL PRIMARY KEY,
  Categoria VARCHAR(50) NOT NULL,
  Prezzo DECIMAL(6,2) NOT NULL
);

CREATE TABLE SCONTI (
  Inizio DATE NOT NULL PRIMARY KEY,
  Fine DATE NOT NULL,
  Sconto INT NOT NULL CHECK (Sconto > 0 AND Sconto < 100)
);

CREATE TABLE VENDITE (
  CodP VARCHAR(10) NOT NULL,
  Data DATE NOT NULL,
  Quantita INT NOT NULL CHECK (Quantita > 0),
  PRIMARY KEY (CodP, Data),
  FOREIGN KEY (CodP) REFERENCES PRODOTTI(CodP)
);

INSERT INTO PRODOTTI VALUES ('P01', 'Casalinghi', 80.00);
INSERT INTO PRODOTTI VALUES ('P02', 'Casalinghi', 30.00);
INSERT INTO PRODOTTI VALUES ('P03', 'Elettronica', 500.00);
INSERT INTO PRODOTTI VALUES ('P04', 'Elettronica', 120.00);
INSERT INTO PRODOTTI VALUES ('P05', 'Abbigliamento', 45.00);

INSERT INTO SCONTI VALUES ('2023-01-01', '2023-01-10', 50);
INSERT INTO SCONTI VALUES ('2023-08-01', '2023-08-15', 20);

INSERT INTO VENDITE VALUES ('P01', '2023-01-05', 12); 
INSERT INTO VENDITE VALUES ('P05', '2023-03-15', 8);
INSERT INTO VENDITE VALUES ('P02', '2023-04-10', 5);
INSERT INTO VENDITE VALUES ('P03', '2023-05-20', 2); 
INSERT INTO VENDITE VALUES ('P03', '2023-08-05', 10);
INSERT INTO VENDITE VALUES ('P04', '2023-08-10', 5);
INSERT INTO VENDITE VALUES ('P01', '2023-12-01', 5);
