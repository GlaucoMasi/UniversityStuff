CREATE TABLE CLIENTI (
  CodCl INT NOT NULL PRIMARY KEY,
  Nome VARCHAR(50) NOT NULL,
  Via VARCHAR(50) NOT NULL,
  Comune VARCHAR(50) NOT NULL
);

CREATE TABLE ORDINI (
  IDOrd INT NOT NULL PRIMARY KEY,
  CodCl INT NOT NULL,
  Importo DECIMAL(6,2) NOT NULL,
  Data DATE NOT NULL,
  FOREIGN KEY (CodCl) REFERENCES CLIENTI(CodCl)
);

CREATE TABLE TRACKING (
  IDOrd INT NOT NULL,
  Stato VARCHAR(20) NOT NULL,
  Data DATE NOT NULL,
  PRIMARY KEY (IDOrd, Stato),
  FOREIGN KEY (IDOrd) REFERENCES ORDINI(IDOrd)
);

INSERT INTO CLIENTI VALUES (1, 'Mario Rossi', 'Via Roma 1', 'Milano');
INSERT INTO CLIENTI VALUES (2, 'Luigi Bianchi', 'Via Po 2', 'Torino');
INSERT INTO CLIENTI VALUES (3, 'Anna Verdi', 'Via Dante 3', 'Roma');

INSERT INTO ORDINI VALUES (101, 1, 50.00, '2023-01-10');
INSERT INTO ORDINI VALUES (102, 1, 120.00, '2023-01-15');
INSERT INTO ORDINI VALUES (201, 2, 300.00, '2023-02-01');
INSERT INTO ORDINI VALUES (202, 2, 45.00, '2023-02-05');
INSERT INTO ORDINI VALUES (301, 3, 10.00, '2023-03-01');

INSERT INTO TRACKING VALUES (101, 'spedito', '2023-01-11');
INSERT INTO TRACKING VALUES (101, 'consegnato', '2023-01-13');
INSERT INTO TRACKING VALUES (102, 'spedito', '2023-01-16');
INSERT INTO TRACKING VALUES (102, 'consegnato', '2023-01-18');
INSERT INTO TRACKING VALUES (201, 'consegnato', '2023-02-03');
INSERT INTO TRACKING VALUES (202, 'spedito', '2023-02-06');

INSERT INTO TRACKING VALUES (101, 'arrivato', '2023-01-12');
INSERT INTO TRACKING VALUES (102, 'arrivato', '2023-01-16');
INSERT INTO TRACKING VALUES (202, 'arrivato', '2023-02-20');

INSERT INTO ORDINI VALUES (400, 1, 50.00, '2023-01-10');
INSERT INTO ORDINI VALUES (401, 1, 120.00, '2023-01-15');
INSERT INTO TRACKING VALUES (400, 'consegnato', '2023-01-10');
INSERT INTO TRACKING VALUES (401, 'consegnato', '2023-01-15');
